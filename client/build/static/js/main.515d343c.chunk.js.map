{"version":3,"sources":["components/LogoHeader.js","components/SearchLayer.js","components/Home.js","components/InfoBar.js","components/Message.js","components/Chat.js","components/UsersList.js","components/PlayVideo.js","components/App.js","index.js"],"names":["LogoHeader","className","alt","src","SearchLayer","props","useState","setVideoLink","username","setUsername","room","setRoom","isBool","setBool","videoId","setVideoId","userRef","useRef","roomRef","urlRef","ref","id","placeholder","onChange","event","current","value","required","getYouTubeID","console","log","style","pointerEvents","onClick","getTheVideolink","alert","to","Home","InfoBar","roomName","Message","isSentByCurrentUser","message","text","user","trimmedName","name","trim","toLowerCase","Chat","messages","map","i","currentUser","target","setMessage","onKeyPress","key","sendMessage","e","type","UsersList","socket","users","PlayVideo","player","setPlayer","currentTime","setTime","setId","setName","setRoomName","setMessages","setUsers","location","useLocation","useEffect","queryString","parse","search","roomId","io","emit","on","opts","height","width","playerVars","autoplay","origin","onReady","msg","pauseVideo","setInterval","fraction","getCurrentTime","getDuration","toString","playVideo","draggable","left","timeline","$","offset","seekToSecs","pageX","seekTo","preventDefault","App","youtubevideoID","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.515d343c.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport default function LogoHeader() {\r\n    return (\r\n        <div className=\"logo-display\">\r\n            <img className=\"logo-img\" alt=\"logo\" src=\"./logo.png\" />\r\n            <h1>WatchIt</h1>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport getYouTubeID from 'get-youtube-id';\r\n\r\nexport default function SearchLayer(props) {\r\n    const [videoLink, setVideoLink] = useState();\r\n    const [username, setUsername] = useState();\r\n    const [room, setRoom] = useState();\r\n    const [isBool, setBool] = useState(false);\r\n    const [videoId, setVideoId] = useState();\r\n    const userRef = useRef();\r\n    const roomRef = useRef();\r\n    const urlRef = useRef();\r\n\r\n    const handleUserChange = (event) => {\r\n        setUsername(userRef.current.value);\r\n    }\r\n\r\n    const handleRoomChange = () => {\r\n        setRoom(roomRef.current.value);\r\n    }\r\n\r\n    const handleUrlChange = () => {\r\n        setVideoLink(urlRef.current.value);\r\n        setVideoId(getYouTubeID(urlRef.current.value));\r\n        console.log(getYouTubeID(urlRef.current.value))\r\n\r\n    }\r\n\r\n    const handleClick = () => {\r\n        if (urlRef.current.value === '' || userRef.current.value === '' || roomRef.current.value === '') {\r\n            alert('Please enter the details.');\r\n            setBool(true);\r\n        } else {\r\n            setBool(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"searchlayer\">\r\n            <form>\r\n                <input ref={userRef} id=\"username\" placeholder=\"Enter your name:\" onChange={handleUserChange} required />\r\n                <input ref={roomRef} id=\"roomId\" placeholder=\"Enter the room ID:\" onChange={handleRoomChange} required />\r\n                <input ref={urlRef} id=\"videoLink\" placeholder=\"Enter the youtube video URL:\" onChange={handleUrlChange} required />\r\n                <Link style={{ pointerEvents: isBool ? 'none' : 'initial' }} onClick={props.getTheVideolink(videoId), handleClick} to={`/play?videoId=${videoId}&name=${username}&roomId=${room}`}>Play</Link>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\n\r\n// import components\r\nimport LogoHeader from \"./LogoHeader\";\r\nimport SearchLayer from \"./SearchLayer\";\r\n\r\nfunction Home(props) {\r\n    return (\r\n        <main>\r\n            <section className=\"homeLayout\">\r\n                <LogoHeader />\r\n                <SearchLayer id={props.id} getTheVideolink={props.getTheVideolink} />\r\n            </section>\r\n            <div className=\"grid-layout\">\r\n                <div className=\"box-design\">\r\n                    <img src=\"./pattern.png\" alt=\"backgroundimage\" />\r\n                </div>\r\n                <div className=\"headphones-design\">\r\n                    <img src=\"./headphonestra.png\" alt=\"backgroundimage\" />\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Home;","import React from 'react'\r\n\r\nexport default function InfoBar(props) {\r\n    return (\r\n        <header className=\"chat-infobar\">\r\n            <p>{`Room Code: ${props.roomName}`}</p>\r\n        </header>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Message(props) {\r\n    let isSentByCurrentUser = false;\r\n\r\n    const { text, user } = props.message;\r\n    const trimmedName = props.name.trim().toLowerCase();\r\n\r\n    console.log(text);\r\n    console.log(user);\r\n\r\n    if (trimmedName === user) {\r\n        isSentByCurrentUser = true;\r\n    }\r\n\r\n    return (\r\n        isSentByCurrentUser\r\n            ? (\r\n                <div className=\"displayChatUser\">\r\n                    <p className=\"name\">{user}</p>\r\n                    <div className=\"chat-display\">\r\n                        <p>{text}</p>\r\n                    </div>\r\n                </div>\r\n            ) :\r\n            (<div className=\"displayChatAno\">\r\n                <div className=\"chat-display-ano\">\r\n                    <p>{text}</p>\r\n                </div>\r\n                <p className=\"name\">{user}</p>\r\n            </div>)\r\n    )\r\n}\r\n","import React from 'react';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\nimport InfoBar from './InfoBar';\r\nimport Message from \"./Message\";\r\n\r\nexport default function Chat(props) {\r\n\r\n    return (\r\n        <section className=\"chat-layout\">\r\n            <div className=\"chat-area\">\r\n                <InfoBar roomName={props.roomName} />\r\n                <ScrollToBottom className=\"messages\">\r\n                    {props.messages.map((message, i) => <div key={i}><Message message={message} name={props.currentUser} /></div>)}\r\n                </ScrollToBottom>\r\n                <div className=\"chat-input\">\r\n                    <input\r\n                        className=\"chathere\"\r\n                        placeholder=\"Type your message here...\"\r\n                        value={props.message}\r\n                        onChange={({ target: { value } }) => props.setMessage(value)}\r\n                        onKeyPress={(event) => event.key === 'Enter' ? props.sendMessage(event, props.message) : null}>\r\n                    </input>\r\n                    <button className=\"chatSubmitBtn\" onClick={e => props.sendMessage(e)} type=\"submit\"><SendIcon /></button>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nfunction UsersList(props) {\r\n    return (\r\n        <footer className=\"currently-online\">\r\n            <p>Currently online: </p>\r\n            <div className=\"usersList\">\r\n                {\r\n                    props.users.map((user) => {\r\n                        return (\r\n                            <div className=\"username-card\" key={user.id}>\r\n                                <span className=\"online\"></span>\r\n                                <p>{user.name}</p>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default UsersList;\r\n","import React, { useState, useEffect } from 'react';\r\nimport YouTube from 'react-youtube';\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport { useLocation } from 'react-router-dom';\r\nimport queryString from \"query-string\";\r\nimport $ from 'jquery';\r\nimport { io } from \"socket.io-client\";\r\nimport Chat from './Chat';\r\nimport UsersList from './UsersList';\r\n\r\nlet socket;\r\n\r\nfunction PlayVideo() {\r\n    const [player, setPlayer] = useState();\r\n    const [currentTime, setTime] = useState();\r\n    const [id, setId] = useState();\r\n    const [name, setName] = useState();\r\n    const [roomName, setRoomName] = useState();\r\n    const [messages, setMessages] = useState([]);\r\n    const [message, setMessage] = useState();\r\n    const [users, setUsers] = useState([]);\r\n    const location = useLocation();\r\n\r\n    useEffect(() => {\r\n        const { name, roomId, videoId } = queryString.parse(location.search);\r\n        setId(videoId);\r\n        setName(name);\r\n        setRoomName(roomId);\r\n        console.log(name);\r\n\r\n        socket = io('https://youtubeapi-watchit.herokuapp.com');\r\n        socket.emit('join', name, roomId);\r\n        console.log(socket);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        socket.on('message', (message) => {\r\n            setMessages(messages => [...messages, message]);\r\n        });\r\n\r\n        socket.on('roomData', ({ users }) => {\r\n            setUsers(users);\r\n        });\r\n    }, []);\r\n\r\n    // Youtube Embedded Player options\r\n    const opts = {\r\n        height: '390',\r\n        width: '640',\r\n        playerVars: {\r\n            autoplay: 1,\r\n            origin: 'https://watch-it-youtube.netlify.app'\r\n        },\r\n    };\r\n\r\n    const onReady = (e) => {\r\n        setPlayer(e.target);\r\n        socket.emit('event', 'startVideo');\r\n        socket.on('event', (msg) => {\r\n            if (msg === 'startVideo') {\r\n                e.target.pauseVideo();\r\n            }\r\n        })\r\n\r\n        setInterval(() => {\r\n            var fraction = e.target.getCurrentTime() / e.target.getDuration() * 100;\r\n            setTime(fraction.toString());\r\n        }, 200);\r\n    }\r\n\r\n    const playVideo = () => {\r\n        console.log(socket)\r\n        socket.emit('event', 'play');\r\n        socket.on('event', (msg) => {\r\n            if (msg === 'play') {\r\n                player.playVideo();\r\n            }\r\n        });\r\n    }\r\n\r\n    const pauseVideo = () => {\r\n        socket.emit('event', 'pause');\r\n        socket.on('event', (msg) => {\r\n            if (msg === 'pause') {\r\n                player.pauseVideo();\r\n            }\r\n        });\r\n    }\r\n\r\n    const clickTimeLine = (event) => {\r\n        const timeline = $(\".timeline\").offset();\r\n        var seekToSecs = (event.pageX - timeline.left) / 500 * player.getDuration();\r\n        socket.emit('seektoEvent', seekToSecs);\r\n        socket.on('seektoEvent', (seekToSecs) => {\r\n            player.seekTo(seekToSecs);\r\n        })\r\n    };\r\n\r\n    const sendMessage = (event) => {\r\n        event.preventDefault();\r\n        setMessage('');\r\n\r\n        if (message) {\r\n            socket.emit('sendMessage', message);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <main className=\"App\">\r\n            <section className=\"iframe-embedded\">\r\n                <YouTube videoId={id} opts={opts} onReady={onReady} />\r\n                <div className=\"controlPanels\">\r\n                    <div className=\"videoPPC\">\r\n                        <button className=\"pauseBtn\" onClick={pauseVideo}><PauseIcon /></button>\r\n                        <button className=\"playBtn\" onClick={playVideo}><PlayArrowIcon /></button>\r\n                    </div>\r\n                    <div className=\"timeline\">\r\n                        <div draggable className=\"pointer\" style={{ left: `${currentTime}%` }}></div>\r\n                        <div onClick={clickTimeLine} className=\"timeline-bar\"></div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <Chat messages={messages} message={message} roomName={roomName} currentUser={name} sendMessage={sendMessage} setMessage={setMessage} />\r\n            <UsersList users={users} />\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default PlayVideo;","import React, { useState } from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Home from \"./Home\";\r\nimport PlayVideo from \"./PlayVideo\";\r\n\r\nfunction App() {\r\n\r\n    const [youtubevideoID, setVideoId] = useState('');\r\n\r\n    const globalVideoId = (videoId) => {\r\n        setVideoId(videoId)\r\n\r\n        console.log(youtubevideoID);\r\n    }\r\n\r\n    return (\r\n        <Router>\r\n            <Switch>\r\n                <Route exact path=\"/\">\r\n                    <Home getTheVideolink={globalVideoId} id={youtubevideoID} />\r\n                </Route>\r\n                <Route exact path=\"/play\">\r\n                    <PlayVideo videoId={youtubevideoID} />\r\n                </Route>\r\n            </Switch>\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}